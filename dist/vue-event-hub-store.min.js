!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VueEventHub",[],t):"object"==typeof exports?exports.VueEventHub=t():e.VueEventHub=t()}(this,function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;function r(e){if(n)console.error("[VueEventHub] already installed. Vue.use(VueEventHub) should be called only once.");else{var t=new(n=e)({data:{events:[],store:{}}});Object.defineProperties(t,{on:{get:function(){return o}},emit:{get:function(){return t.$emit}},off:{get:function(){return r}},setData:{get:function(){return c}},getData:{get:function(){return i}},delData:{get:function(){return u}},watch:{get:function(){return l}}}),Object.defineProperty(n.prototype,"$eventHub",{get:function(){return t}}),n.eventHub=t}function o(e,o){if("[object String]"!==Object.prototype.toString.call(e)||"[object Function]"!==Object.prototype.toString.call(o))throw"event必须为字符串，callback必须为函数 --eventHub.on";"[object Array]"!==Object.prototype.toString.call(t.events[e])&&(t.events[e]=[]);var n=t.events[e];-1===n.indexOf(o)?(n.push(o),t.$on(e,o)):console.log(e+"事件已经监听"+o+"函数 --eventHub.on")}function r(e,o,n){var r=void 0,c=void 0;if(n)"[object String]"===Object.prototype.toString.call(e)?(r=t.events[e],"[object Array]"===Object.prototype.toString.call(r)&&("[object Function]"===Object.prototype.toString.call(o)?-1!==(c=r.indexOf(o))&&(r.splice(c,1),t.$off(e,o)):(t.events[e]=[],t.$off(e)))):(t.events={},t.$off());else{if("[object String]"!==Object.prototype.toString.call(e)||"[object Function]"!==Object.prototype.toString.call(o))throw"event必须为字符串，callback必须为函数，如果想移除全部事件或某事件的全部监听函数，请传force为真 --eventHub.off";r=t.events[e],"[object Array]"===Object.prototype.toString.call(r)?-1===(c=r.indexOf(o))?console.log(e+"事件没有监听"+o+"函数 --eventHub.off"):(r.splice(c,1),t.$off(e,o)):console.log("没有"+e+"事件 --eventHub.off")}}function c(e,o,n){if("[object String]"!==Object.prototype.toString.call(e))throw"name必须为字符串 --eventHub.setData";if(n||!t.store.hasOwnProperty(e)){var r=Object.assign({},t.store);r[e]=o,t.store=r}else console.log(e+":已有同名数据节点，请换个数据节点名，如要覆盖数据节点，请设置force参数为true --eventHub.setData")}function i(e){if("[object String]"!==Object.prototype.toString.call(e))throw"name必须为字符串 --eventHub.getData";if(t.store.hasOwnProperty(e))return t.store[e];console.log(e+":没有该命名的数据节点，如有需要请用setData方法创建--$eventHub")}function u(e){if("[object String]"!==Object.prototype.toString.call(e))throw"name必须为字符串 --eventHub.delData";if(t.store.hasOwnProperty(e)){var o=Object.assign({},t.store);delete o[e],t.store=o}else console.log(e+":没有该命名的数据节点，删除无效--$eventHub")}function l(e,o,n){return"[object String]"===Object.prototype.toString.call(e)&&(e="store."+e),n||(n={deep:!0,immediate:!0}),t.$watch(e,o,n)}}"undefined"!=typeof window&&window.Vue&&r(window.Vue);var c={install:r};t.default=c}])});